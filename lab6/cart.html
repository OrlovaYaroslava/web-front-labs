<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Орлова Ярослава Владиславовна. Лабораторная 6</title>
    <link rel="stylesheet" href="../main.css">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="icon" href="../favicon-32x32.png">
    <link rel="icon" href="../favicon-48x48.ico">
    <style>
        /* Стили для таблицы и её элементов */
        table {
            width: 80%; /* Задаём ширину таблицы */
            margin: 20px auto; /* Выравнивание по центру и добавление отступа сверху и снизу */
            border-collapse: collapse; /* Убираем двойные границы между ячейками */
            background-color: #f4f4f4; /* Цвет фона для таблицы */
        }
        th, td {
            border: 1px solid #ccc; /* Граница для заголовков и ячеек */
            padding: 8px; /* Отступы внутри ячеек */
            text-align: center; /* Выравнивание текста по центру */
            font-size: 16px; /* Размер шрифта */
        }
        th {
            background-color: #e8e8e8; /* Цвет фона для заголовков */
        }
        input[type="number"] {
            width: 80%; /* Ширина полей ввода */
            padding: 5px; /* Отступы внутри полей ввода */
        }
        button {
            padding: 10px 20px; /* Отступы внутри кнопки */
            font-size: 16px; /* Размер шрифта кнопки */
            cursor: pointer; /* Курсор в виде указателя */
            margin-top: 10px; /* Отступ сверху для кнопки */
        }
    </style>
    <script>
        function calculateTotal() {
            const balance = parseFloat(document.getElementById('balance').value);
            const items = document.querySelectorAll('.item-quantity');
            let total = 0;
            let empty = true;
            
            items.forEach(item => {
                const quantity = parseInt(item.value);
                if (item.value !== '' && isNaN(quantity)) {
                    alert('Введите корректное количество товаров.');
                    return;
                }
                if (quantity < 0) {
                    alert('Количество товара не может быть отрицательным.');
                    return;
                }
                if (quantity > 0) {
                    empty = false;
                    total += quantity * parseFloat(item.dataset.price);
                }
            });
            
            if (empty) {
                alert('Выберите хотя бы один товар.');
                return;
            }
            
            if (total > balance) {
                alert('Недостаточно средств на балансе. Итого: ' + total + ' руб.');
            } else {
                alert('Покупка успешно оформлена. Итого: ' + total + ' руб.');
            }
        }
    </script>
</head>
<body>
    <header>
        НГТУ, ФБ, Лабораторная работа 6
        <hr>
    </header>
    <main>
        <label for="balance">Мой баланс:</label>
        <input type="number" id="balance" placeholder="Введите ваш баланс"><br><br>

        <table>
            <tr>
                <th>Товар</th>
                <th>Цена</th>
                <th>Количество</th>
            </tr>
            <tr>
                <td>Наушники Bluetooth</td>
                <td>950 руб.</td>
                <td><input type="number" class="item-quantity" data-price="950"></td>
            </tr>
            <tr>
                <td>Электрический чайник</td>
                <td>700 руб.</td>
                <td><input type="number" class="item-quantity" data-price="700"></td>
            </tr>
            <tr>
                <td>Спортивный браслет</td>
                <td>1200 руб.</td>
                <td><input type="number" class="item-quantity" data-price="1200"></td>
            </tr>
            <tr>
                <td>Книга "Современная литература"</td>
                <td>450 руб.</td>
                <td><input type="number" class="item-quantity" data-price="450"></td>
            </tr>
            <tr>
                <td>Шоколад "Темный"</td>
                <td>150 руб.</td>
                <td><input type="number" class="item-quantity" data-price="150"></td>
            </tr>
            <tr>
                <td>Кофемашина</td>
                <td>3200 руб.</td>
                <td><input type="number" class="item-quantity" data-price="3200"></td>
            </tr>
            <tr>
                <td>Беспроводная мышь</td>
                <td>800 руб.</td>
                <td><input type="number" class="item-quantity" data-price="800"></td>
            </tr>
        </table>
        <button onclick="calculateTotal()">OK</button>
    </main>
    <footer>
        &copy; Орлова Ярослава Владиславовна, ФБИ-22, 2 курс, 2024
    </footer>
</body>
</html>
